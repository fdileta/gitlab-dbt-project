connection_info:
  database: CUSTOMERS_DB_NAME
  host: CUSTOMERS_DB_HOST
  pass: CUSTOMERS_DB_PASS
  port: PG_PORT
  user: CUSTOMERS_DB_USER
tables:
  customers:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'customers'
    export_table_primary_key: id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT id
      , created_at
      , updated_at
      , sign_in_count
      , current_sign_in_at
      , last_sign_in_at
      , provider
      , uid
      , zuora_account_id
      , country
      , state
      , city
      , vat_code
      , company
      , company_size
      , salesforce_account_id
      , billable
      , confirmed_at
      , confirmation_sent_at
      , first_name
      , last_name
      , email
      , phone_number
      FROM customers
  leads:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'leads'
    export_table_primary_key: id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT id
      , created_at
      , updated_at
      , trial_start_date
      , namespace_id
      , user_id
      , opt_in
      , currently_in_trial
      , is_for_business_use
      , first_name
      , last_name
      , email
      , phone
      , company_name
      , employees_bucket
      , country
      , state
      , product_interaction
      , provider
      , comment_capture
      , glm_content
      , glm_source
      , sent_at
      , website_url
      , role
      , jtbd
      FROM leads
  license_seat_links:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'license_seat_links'
    export_table_primary_key: zuora_subscription_id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT zuora_subscription_id
      , created_at
      , updated_at
      , order_id
      , active_user_count
      , max_historical_user_count
      , license_user_count
      , report_timestamp
      , license_starts_on
      , zuora_subscription_name
      FROM license_seat_links
  license_versions:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'license_versions'
    export_table_primary_key: item_id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT item_id
      , created_at
      , item_type
      , event
      , whodunnit
      , object
      , object_changes
      FROM license_versions
  licenses:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'licenses'
    export_table_primary_key: id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT id
      , name
      , company
      , users_count
      , email
      , license_file
      , expires_at
      , created_at
      , updated_at
      , plan_name
      , starts_at
      , zuora_subscription_id
      , notes
      , previous_users_count
      , trueup_quantity
      , trueup_from
      , trueup_to
      , plan_code
      , trial
      , zuora_subscription_name
      , license_file_md5
      , creator_id
      , license_file_sha256
      FROM licenses
  orders:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'orders'
    export_table_primary_key: id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT id
      , customer_id
      , product_rate_plan_id
      , subscription_id
      , subscription_name
      , start_date
      , end_date
      , quantity
      , created_at
      , updated_at
      , gl_namespace_id
      , gl_namespace_name
      , amendment_type
      , trial
      , last_extra_ci_minutes_sync_at
      , zuora_account_id
      , increased_billing_rate_notified_at
      , source
      FROM orders
  reconciliations:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'reconciliations'
    export_table_primary_key: order_id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT order_id
      , user_count
      , reconcile_done_at
      , created_at
      , updated_at
      , error_message
      , reconcile_on
      FROM reconciliations
  schema_migrations:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'schema_migrations'
    export_table_primary_key: version
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT version
      FROM schema_migrations
  trial_histories:
    advanced_metadata: true
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'trial_histories'
    export_table_primary_key: gl_namespace_id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT gl_namespace_id
        , start_date
        , expired_on
        , created_at
        , updated_at
        , glm_source
        , glm_content
        , trial_entity
      FROM trial_histories
  version_associations:
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'version_associations'
    export_table_primary_key: id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT id
      , version_id
      , foreign_key_name
      , foreign_key_id
      , foreign_type
      FROM version_associations
  versions:
    export_db: EXPORT_DB
    export_schema: 'customers'
    export_table: 'versions'
    export_table_primary_key: id
    import_db: CUSTOMERS_DB
    import_query: |-
      SELECT id
      , item_type
      , item_id
      , event
      , whodunnit
      , object
      , created_at
      , transaction_id
      , object_changes
      FROM versions
